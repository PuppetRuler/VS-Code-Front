{"ast":null,"code":"//该文件专门用于创建整个应用的路由器\nimport VueRouter from \"vue-router\";\n//引入组件\nimport About from '../pages/About';\nimport Home from '../pages/Home';\nimport News from '../pages/News';\nimport Message from '../pages/Message';\nimport Detail from '../pages/Detail';\n\n//创建并暴露一个路由器\nconst router = new VueRouter({\n  routes: [{\n    name: 'guanyu',\n    path: '/about',\n    component: About,\n    meta: {\n      title: '关于'\n    }\n  }, {\n    name: 'zhuye',\n    path: '/home',\n    component: Home,\n    meta: {\n      title: '主页'\n    },\n    children: [{\n      name: 'xinwen',\n      path: 'news',\n      component: News,\n      meta: {\n        isAuth: true\n      }\n    }, {\n      name: 'xiaoxi',\n      path: 'message',\n      component: Message,\n      children: [{\n        name: 'xiangqing',\n        path: 'detail',\n        component: Detail,\n        // props的第一种写法，值为对象,该对象中的所有key-value都会以props的形式传给Detail组件.\n        // props:{a:1,b:'hello'},\n\n        // props的第二种写法，值为布尔值，若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给Detail组件\n        // props:true,\n\n        // props的第三种写法，值为函数\n        /* props($route){\r\n            return {\r\n                id:$route.query.id,\r\n                title:$route.query.title,\r\n            }\r\n        }, */\n        // 简写:解构赋值\n        props({\n          query: {\n            id,\n            title\n          }\n        }) {\n          return {\n            id: id,\n            title: title\n          };\n        }\n      }],\n      meta: {\n        isAuth: true,\n        title: ''\n      }\n    }]\n  }]\n});\n\n//全局前置路由守卫--初始化之前被调用，每次路由切换之前被调用\nrouter.beforeEach((to, from, next) => {\n  console.log('前置路由守卫', to, from);\n  if (to.meta.isAuth) {\n    //判断是否需要鉴权\n    if (localStorage.getItem('school') === 'atguigu') {\n      next();\n    } else {\n      alert('学校名不对，无法查看!');\n    }\n  } else {\n    next();\n  }\n});\n\n//全局后置路由守卫--初始化之后被调用，每次路由切换之后被调用\nrouter.afterEach((to, from) => {\n  console.log('后置路由守卫', to, from);\n});\nexport default router;","map":{"version":3,"names":["VueRouter","About","Home","News","Message","Detail","router","routes","name","path","component","meta","title","children","isAuth","props","query","id","beforeEach","to","from","next","console","log","localStorage","getItem","alert","afterEach"],"sources":["D:/前端学习代码/Vue_CLI_test/src/router/index.js"],"sourcesContent":["//该文件专门用于创建整个应用的路由器\r\nimport VueRouter from \"vue-router\";\r\n//引入组件\r\nimport About from '../pages/About'\r\nimport Home from '../pages/Home'\r\nimport News from '../pages/News'\r\nimport Message from '../pages/Message'\r\nimport Detail from '../pages/Detail'\r\n\r\n//创建并暴露一个路由器\r\nconst router = new VueRouter({\r\n    routes:[\r\n        {\r\n            name:'guanyu',\r\n            path:'/about',\r\n            component:About,\r\n            meta:{title:'关于'},\r\n        },\r\n        {\r\n            name:'zhuye',\r\n            path:'/home',\r\n            component:Home,\r\n            meta:{title:'主页'},\r\n            children:[\r\n                {\r\n                    name:'xinwen',\r\n                    path:'news',\r\n                    component:News,\r\n                    meta:{isAuth:true}\r\n                },\r\n                {\r\n                    name:'xiaoxi',\r\n                    path:'message',\r\n                    component:Message,\r\n                    children:[\r\n                        {\r\n                            name:'xiangqing',\r\n                            path:'detail',\r\n                            component:Detail,\r\n\r\n                            // props的第一种写法，值为对象,该对象中的所有key-value都会以props的形式传给Detail组件.\r\n                            // props:{a:1,b:'hello'},\r\n\r\n                            // props的第二种写法，值为布尔值，若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给Detail组件\r\n                            // props:true,\r\n\r\n                            // props的第三种写法，值为函数\r\n                            /* props($route){\r\n                                return {\r\n                                    id:$route.query.id,\r\n                                    title:$route.query.title,\r\n                                }\r\n                            }, */\r\n                            // 简写:解构赋值\r\n                            props({query:{id,title}}){\r\n                                return {\r\n                                    id:id,\r\n                                    title:title,\r\n                                }\r\n                            },\r\n                        }\r\n                    ],\r\n                    meta:{isAuth:true,title:''}\r\n                },\r\n            ]\r\n        },\r\n    ]\r\n})\r\n\r\n//全局前置路由守卫--初始化之前被调用，每次路由切换之前被调用\r\nrouter.beforeEach((to,from,next)=>{\r\n    console.log('前置路由守卫',to,from);\r\n    if(to.meta.isAuth){  //判断是否需要鉴权\r\n        if(localStorage.getItem('school') === 'atguigu'){\r\n            next()\r\n        }else{\r\n            alert('学校名不对，无法查看!');\r\n        }\r\n    }else{\r\n        next()\r\n    }\r\n})\r\n\r\n//全局后置路由守卫--初始化之后被调用，每次路由切换之后被调用\r\nrouter.afterEach((to,from)=>{\r\n    console.log('后置路由守卫',to,from);\r\n})\r\n\r\nexport default router"],"mappings":"AAAA;AACA,OAAOA,SAAS,MAAM,YAAY;AAClC;AACA,OAAOC,KAAK,MAAM,gBAAgB;AAClC,OAAOC,IAAI,MAAM,eAAe;AAChC,OAAOC,IAAI,MAAM,eAAe;AAChC,OAAOC,OAAO,MAAM,kBAAkB;AACtC,OAAOC,MAAM,MAAM,iBAAiB;;AAEpC;AACA,MAAMC,MAAM,GAAG,IAAIN,SAAS,CAAC;EACzBO,MAAM,EAAC,CACH;IACIC,IAAI,EAAC,QAAQ;IACbC,IAAI,EAAC,QAAQ;IACbC,SAAS,EAACT,KAAK;IACfU,IAAI,EAAC;MAACC,KAAK,EAAC;IAAI;EACpB,CAAC,EACD;IACIJ,IAAI,EAAC,OAAO;IACZC,IAAI,EAAC,OAAO;IACZC,SAAS,EAACR,IAAI;IACdS,IAAI,EAAC;MAACC,KAAK,EAAC;IAAI,CAAC;IACjBC,QAAQ,EAAC,CACL;MACIL,IAAI,EAAC,QAAQ;MACbC,IAAI,EAAC,MAAM;MACXC,SAAS,EAACP,IAAI;MACdQ,IAAI,EAAC;QAACG,MAAM,EAAC;MAAI;IACrB,CAAC,EACD;MACIN,IAAI,EAAC,QAAQ;MACbC,IAAI,EAAC,SAAS;MACdC,SAAS,EAACN,OAAO;MACjBS,QAAQ,EAAC,CACL;QACIL,IAAI,EAAC,WAAW;QAChBC,IAAI,EAAC,QAAQ;QACbC,SAAS,EAACL,MAAM;QAEhB;QACA;;QAEA;QACA;;QAEA;QACA;AAC5B;AACA;AACA;AACA;AACA;QAC4B;QACAU,KAAKA,CAAC;UAACC,KAAK,EAAC;YAACC,EAAE;YAACL;UAAK;QAAC,CAAC,EAAC;UACrB,OAAO;YACHK,EAAE,EAACA,EAAE;YACLL,KAAK,EAACA;UACV,CAAC;QACL;MACJ,CAAC,CACJ;MACDD,IAAI,EAAC;QAACG,MAAM,EAAC,IAAI;QAACF,KAAK,EAAC;MAAE;IAC9B,CAAC;EAET,CAAC;AAET,CAAC,CAAC;;AAEF;AACAN,MAAM,CAACY,UAAU,CAAC,CAACC,EAAE,EAACC,IAAI,EAACC,IAAI,KAAG;EAC9BC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAACJ,EAAE,EAACC,IAAI,CAAC;EAC7B,IAAGD,EAAE,CAACR,IAAI,CAACG,MAAM,EAAC;IAAG;IACjB,IAAGU,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAC;MAC5CJ,IAAI,CAAC,CAAC;IACV,CAAC,MAAI;MACDK,KAAK,CAAC,aAAa,CAAC;IACxB;EACJ,CAAC,MAAI;IACDL,IAAI,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;;AAEF;AACAf,MAAM,CAACqB,SAAS,CAAC,CAACR,EAAE,EAACC,IAAI,KAAG;EACxBE,OAAO,CAACC,GAAG,CAAC,QAAQ,EAACJ,EAAE,EAACC,IAAI,CAAC;AACjC,CAAC,CAAC;AAEF,eAAed,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}